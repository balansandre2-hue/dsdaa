<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TacticalShop</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap');
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #111827;
            color: #f3f4f6;
        }
        .crypto-icon {
            width: 24px;
            height: 24px;
            margin-right: 8px;
        }
        .modal {
            transition: opacity 0.25s ease;
        }
        body.modal-active {
            overflow: hidden;
        }
        .loader {
            border: 3px solid #f3f3f3;
            border-radius: 50%;
            border-top: 3px solid #3498db;
            width: 20px;
            height: 20px;
            -webkit-animation: spin 2s linear infinite; /* Safari */
            animation: spin 2s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <nav class="bg-gray-800 border-b border-gray-700 sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0 text-blue-500 font-black text-2xl tracking-tighter">
                        TS <span class="text-white text-lg font-bold tracking-normal">TacticalShop</span>
                    </div>
                    <div class="hidden md:block">
                        <div class="ml-10 flex items-baseline space-x-4">
                            <a href="#" onclick="filterProducts('all')" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition">–í—Å–µ</a>
                            <a href="#" onclick="filterProducts('combat')" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition">–ë–æ–µ–≤–æ–µ</a>
                            <a href="#" onclick="filterProducts('traumatic')" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition">–¢—Ä–∞–≤–º–∞—Ç–∏—á–µ—Å–∫–æ–µ</a>
                            <a href="#" onclick="filterProducts('other')" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition">–°–Ω–∞—Ä—è–∂–µ–Ω–∏–µ</a>
                        </div>
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <a href="https://t.me/+l4Mt8VCqCf42ZDU5" target="_blank" class="text-gray-400 hover:text-white text-sm font-medium transition">–û—Ç–∑—ã–≤—ã</a>
                    <div class="bg-green-600 px-3 py-1 rounded text-xs font-bold text-white">ONLINE</div>
                </div>
            </div>
        </div>
        <div class="md:hidden flex justify-around bg-gray-900 p-2 overflow-x-auto">
            <button onclick="filterProducts('combat')" class="text-xs text-gray-300 px-3 py-1 bg-gray-800 rounded-full whitespace-nowrap">üî• –ë–æ–µ–≤–æ–µ</button>
            <button onclick="filterProducts('traumatic')" class="text-xs text-gray-300 px-3 py-1 bg-gray-800 rounded-full whitespace-nowrap">üõ° –¢—Ä–∞–≤–º–∞—Ç</button>
            <button onclick="filterProducts('other')" class="text-xs text-gray-300 px-3 py-1 bg-gray-800 rounded-full whitespace-nowrap">üì¶ –°–Ω–∞—Ä—è–∂–µ–Ω–∏–µ</button>
        </div>
    </nav>

    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="text-center mb-10">
            <h1 class="text-4xl tracking-tight font-extrabold text-white sm:text-5xl md:text-6xl">
                <span class="block xl:inline">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ</span>
                <span class="block text-blue-600 xl:inline">–≤–æ–æ—Ä—É–∂–µ–Ω–∏–µ</span>
            </h1>
            <p class="mt-3 max-w-md mx-auto text-base text-gray-400 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl">
                –ê–Ω–æ–Ω–∏–º–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –°–ù–ì. –ì–∞—Ä–∞–Ω—Ç–∏—è –∫–∞—á–µ—Å—Ç–≤–∞. –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –æ–±—Ä–∞–∑—Ü—ã.
            </p>
        </div>

        <div id="products-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
        </div>
    </main>

    <footer class="bg-gray-800 border-t border-gray-700 mt-auto">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
            <p class="text-center text-gray-400 text-sm">
                &copy; 2026 TacticalShop. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã. –†–∞–±–æ—Ç–∞–µ–º –∞–Ω–æ–Ω–∏–º–Ω–æ.
            </p>
        </div>
    </footer>

    <div id="modal" class="modal opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center z-50">
        <div class="modal-overlay absolute w-full h-full bg-gray-900 opacity-95"></div>
        <div class="modal-container bg-gray-800 w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto max-h-[90vh]">
            <div class="modal-content py-4 text-left px-6">
                <div class="flex justify-between items-center pb-3 border-b border-gray-700">
                    <p class="text-xl font-bold text-white" id="modal-title">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</p>
                    <div class="modal-close cursor-pointer z-50" onclick="closeModal()">
                        <svg class="fill-current text-white" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
                            <path d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"></path>
                        </svg>
                    </div>
                </div>

                <div id="step-1" class="py-4">
                    <div class="mb-4">
                        <img id="modal-img" src="" class="w-full h-48 object-cover rounded mb-2">
                        <h3 id="modal-product-name" class="font-bold text-lg text-white"></h3>
                        <p id="modal-product-price" class="text-blue-400 font-bold"></p>
                    </div>
                    
                    <label class="block text-gray-400 text-sm font-bold mb-2">–°—Ç—Ä–∞–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∏</label>
                    <select id="country-select" class="w-full bg-gray-700 text-white border border-gray-600 rounded py-2 px-3 mb-3 focus:outline-none focus:border-blue-500" onchange="updateCities()">
                        <option value="ru">üá∑üá∫ –†–æ—Å—Å–∏—è</option>
                        <option value="ua">üá∫üá¶ –£–∫—Ä–∞–∏–Ω–∞</option>
                        <option value="kz">üá∞üáø –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω</option>
                        <option value="by">üáßüáæ –ë–µ–ª–∞—Ä—É—Å—å</option>
                    </select>

                    <label class="block text-gray-400 text-sm font-bold mb-2">–ì–æ—Ä–æ–¥</label>
                    <select id="city-select" class="w-full bg-gray-700 text-white border border-gray-600 rounded py-2 px-3 mb-3 focus:outline-none focus:border-blue-500">
                    </select>

                    <label class="block text-gray-400 text-sm font-bold mb-2">–°–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏</label>
                    <div class="flex gap-2 mb-4">
                        <label class="flex-1 cursor-pointer">
                            <input type="radio" name="delivery" value="courier" class="hidden peer" checked>
                            <div class="text-center py-2 bg-gray-700 peer-checked:bg-blue-600 rounded text-sm transition">üèÉ –ö—É—Ä—å–µ—Ä</div>
                        </label>
                        <label class="flex-1 cursor-pointer">
                            <input type="radio" name="delivery" value="drop" class="hidden peer">
                            <div class="text-center py-2 bg-gray-700 peer-checked:bg-blue-600 rounded text-sm transition">üìç –¢–∞–π–Ω–∏–∫</div>
                        </label>
                    </div>

                    <label class="block text-gray-400 text-sm font-bold mb-2">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</label>
                    <div class="space-y-2 mb-6">
                        <label class="cursor-pointer block">
                            <input type="radio" name="payment" value="usdt" class="hidden peer" checked>
                            <div class="flex items-center justify-between p-3 bg-gray-700 peer-checked:border-2 peer-checked:border-blue-500 rounded transition">
                                <span class="flex items-center"><span class="mr-2">üíé</span> USDT (TRC20)</span>
                            </div>
                        </label>
                        <label class="cursor-pointer block">
                            <input type="radio" name="payment" value="btc" class="hidden peer">
                            <div class="flex items-center justify-between p-3 bg-gray-700 peer-checked:border-2 peer-checked:border-blue-500 rounded transition">
                                <span class="flex items-center"><span class="mr-2">‚Çø</span> Bitcoin</span>
                            </div>
                        </label>
                        <label class="cursor-pointer block">
                            <input type="radio" name="payment" value="ltc" class="hidden peer">
                            <div class="flex items-center justify-between p-3 bg-gray-700 peer-checked:border-2 peer-checked:border-blue-500 rounded transition">
                                <span class="flex items-center"><span class="mr-2">≈Å</span> Litecoin</span>
                            </div>
                        </label>
                    </div>

                    <button onclick="goToInvoice()" class="w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded transition">
                        –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ
                    </button>
                </div>

                <div id="step-2" class="hidden py-4 text-center">
                    <div class="mb-6">
                        <div class="w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl">üßæ</div>
                        <h3 class="text-xl font-bold mb-2">–ò–Ω–≤–æ–π—Å –Ω–∞ –æ–ø–ª–∞—Ç—É</h3>
                        <p class="text-sm text-gray-400 mb-4">–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —Ç–æ—á–Ω—É—é —Å—É–º–º—É –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –∫–æ—à–µ–ª–µ–∫. –ó–∞–∫–∞–∑ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ 1 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–µ—Ç–∏.</p>
                        
                        <div class="bg-gray-700 p-4 rounded mb-4 text-left">
                            <div class="flex justify-between mb-2">
                                <span class="text-gray-400">–°—É–º–º–∞ (RUB):</span>
                                <span id="invoice-rub" class="font-bold"></span>
                            </div>
                            <div class="flex justify-between mb-2">
                                <span class="text-gray-400">–°—É–º–º–∞ (Crypto):</span>
                                <span id="invoice-crypto" class="font-bold text-green-400"></span>
                            </div>
                            <div class="mt-4">
                                <span class="text-gray-400 text-xs block mb-1">–ê–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞ <span id="wallet-label"></span>:</span>
                                <div class="flex items-center bg-gray-800 p-2 rounded">
                                    <input type="text" id="wallet-address" class="bg-transparent border-none text-xs w-full text-white font-mono focus:ring-0" readonly>
                                    <button onclick="copyAddress()" class="ml-2 text-blue-400 text-xs hover:text-white">COPY</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button onclick="closeModal()" class="w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded mb-2 transition">
                        –Ø –æ–ø–ª–∞—Ç–∏–ª
                    </button>
                    <button onclick="backToStep1()" class="text-sm text-gray-400 hover:text-white underline">–ù–∞–∑–∞–¥ –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º</button>
                </div>

            </div>
        </div>
    </div>

    <script>
        const PRODUCTS = {
            combat: [
                { id: "com_ak74m", name: "‚öîÔ∏è AK-74M (–ò–∂–ú–∞—à)", price: 45000, image: "https://placehold.co/600x400/2f3e30/ffffff.png?text=AK-74M+Live", desc: "–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –±–æ–µ–≤–æ–π –∞–≤—Ç–æ–º–∞—Ç. –°–ø–∏—Å–∞–Ω–Ω–æ–µ –±–æ–µ–≤–æ–µ, –Ω–µ –æ—Ö–æ–ª–æ—â–µ–Ω–Ω–æ–µ. –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º.\nüõ† –¢–¢–•: –ö–∞–ª–∏–±—Ä 5.45—Ö39–º–º." },
                { id: "com_aks74u", name: "üå™ –ê–ö–°-74–£ ¬´–ö—Å—é—Ö–∞¬ª", price: 52000, image: "https://placehold.co/600x400/3e2723/ffffff.png?text=AKS-74U", desc: "–£–∫–æ—Ä–æ—á–µ–Ω–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç –ö–∞–ª–∞—à–Ω–∏–∫–æ–≤–∞. –ò–¥–µ–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–µ –Ω–∞–∫–ª–∞–¥–∫–∏.\nüõ† –¢–¢–•: –ö–∞–ª–∏–±—Ä 5.45—Ö39–º–º." },
                { id: "com_akm", name: "‚ò≠ –ê–ö–ú (1960-–µ)", price: 48000, image: "https://placehold.co/600x400/4e342e/ffffff.png?text=AKM+7.62", desc: "–ê–≤—Ç–æ–º–∞—Ç –ö–∞–ª–∞—à–Ω–∏–∫–æ–≤–∞ –ú–æ–¥–µ—Ä–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π. –õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π –∫–∞–ª–∏–±—Ä 7.62. –ü—Ä–æ–±–∏–≤–∞–µ—Ç –∫–∏—Ä–ø–∏—á–Ω—É—é –∫–ª–∞–¥–∫—É.\nüõ† –¢–¢–•: –ö–∞–ª–∏–±—Ä 7.62—Ö39–º–º." },
                { id: "com_svd", name: "üéØ –°–í–î (–î—Ä–∞–≥—É–Ω–æ–≤)", price: 85000, image: "https://placehold.co/600x400/1a1a1a/ffffff.png?text=SVD+Dragunov", desc: "–°–Ω–∞–π–ø–µ—Ä—Å–∫–∞—è –í–∏–Ω—Ç–æ–≤–∫–∞ –î—Ä–∞–≥—É–Ω–æ–≤–∞. –í –∫–æ–º–ø–ª–µ–∫—Ç–µ –ø—Ä–∏—Ü–µ–ª –ü–°–û-1.\nüõ† –¢–¢–•: –ö–∞–ª–∏–±—Ä 7.62—Ö54R." },
                { id: "com_pm", name: "‚≠ê –ü–ú (–ú–∞–∫–∞—Ä–æ–≤)", price: 25000, image: "https://placehold.co/600x400/718096/ffffff.png?text=Makarov+PM", desc: "–ë–æ–µ–≤–æ–π –ü–∏—Å—Ç–æ–ª–µ—Ç –ú–∞–∫–∞—Ä–æ–≤–∞. –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –°–°–°–†. –ù–∞—Ä–µ–∑–Ω–æ–π —Å—Ç–≤–æ–ª, –≤–æ—Ä–æ–Ω–µ–Ω–∞—è —Å—Ç–∞–ª—å.\nüõ† –¢–¢–•: –ö–∞–ª–∏–±—Ä 9—Ö18 –ü–ú." },
                { id: "com_tt", name: "‚ò≠ –¢–¢-33 (–¢—É–ª—å—Å–∫–∏–π)", price: 32000, image: "https://placehold.co/600x400/2d3748/ffffff.png?text=TT-33+Tokarev", desc: "–ü–∏—Å—Ç–æ–ª–µ—Ç –¢–æ–∫–∞—Ä–µ–≤–∞, –≤–æ–µ–Ω–Ω—ã–π –≤—ã–ø—É—Å–∫. –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —à—Ç–∏—Ñ—Ç—ã –≤ —Å—Ç–≤–æ–ª–µ.\nüõ† –¢–¢–•: –ö–∞–ª–∏–±—Ä 7.62—Ö25 –¢–¢." },
                { id: "com_aps", name: "üî• –ê–ü–° (–°—Ç–µ—á–∫–∏–Ω)", price: 110000, image: "https://placehold.co/600x400/2b2b2b/ffffff.png?text=APS+Stechkin", desc: "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ü–∏—Å—Ç–æ–ª–µ—Ç –°—Ç–µ—á–∫–∏–Ω–∞. –†–µ–¥–∫–æ—Å—Ç—å. –†–µ–∂–∏–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–≥–Ω—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω.\nüõ† –¢–¢–•: –ö–∞–ª–∏–±—Ä 9—Ö18 –ü–ú." }
            ],
            traumatic: [
                { id: "tr_osa", name: "üõ° –û—Å–∞ –ü–ë-4-2", price: 14500, image: "https://placehold.co/600x400/4a5568/ffffff.png?text=PB-4-2+Osa", desc: "–ë–µ—Å—Å—Ç–≤–æ–ª—å–Ω—ã–π –ø–∏—Å—Ç–æ–ª–µ—Ç —Å–∞–º–æ–æ–±–æ—Ä–æ–Ω—ã. –ú–æ—â–Ω–µ–π—à–∏–π —Ç—Ä–∞–≤–º–∞—Ç.\nüõ† –¢–¢–•: 18.5—Ö55–º–º." },
                { id: "tr_pmt", name: "‚≠ê –ü–ú-–¢ (–ó–∏–î)", price: 65000, image: "https://placehold.co/600x400/5a6772/ffffff.png?text=PM-T", desc: "–¢—Ä–∞–≤–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∏—Å—Ç–æ–ª–µ—Ç –Ω–∞ –±–∞–∑–µ –±–æ–µ–≤–æ–≥–æ –ü–ú. –ú–∏–Ω–∏–º—É–º –ø–µ—Ä–µ–¥–µ–ª–æ–∫.\nüõ† –¢–¢–•: 9–º–º P.A." },
                { id: "tr_grand", name: "üî´ Grand Power T12", price: 42000, image: "https://placehold.co/600x400/171717/ffffff.png?text=Grand+Power+T12", desc: "–°–ª–æ–≤–∞—Ü–∫–∏–π –ø–∏—Å—Ç–æ–ª–µ—Ç (—Å–±–æ—Ä–∫–∞ –†–§). –≠—Ä–≥–æ–Ω–æ–º–∏—á–Ω—ã–π, –º–æ—â–Ω—ã–π, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π.\nüõ† –¢–¢–•: –ö–∞–ª–∏–±—Ä 10—Ö28." },
                { id: "tr_tt_t", name: "‚ò≠ –¢–¢-–¢ (–õ–∏–¥–µ—Ä)", price: 28000, image: "https://placehold.co/600x400/3c3c3c/ffffff.png?text=TT-Leader", desc: "–¢—Ä–∞–≤–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä—Å–∏—è –¢–¢. –ü–µ—Ä–µ–¥–µ–ª–∫–∞ –∏–∑ –±–æ–µ–≤—ã—Ö –æ–±—Ä–∞–∑—Ü–æ–≤ 40-—Ö –≥–æ–¥–æ–≤.\nüõ† –¢–¢–•: 10—Ö28." }
            ],
            other: [
                { id: "acc_ammo_919", name: "üì¶ –ü–∞—Ç—Ä–æ–Ω—ã 9x19", price: 3500, image: "https://placehold.co/600x400/b8860b/ffffff.png?text=9x19+Luger+Ammo", desc: "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–∏—Å—Ç–æ–ª–µ—Ç–Ω—ã–π –ø–∞—Ç—Ä–æ–Ω. –û–±–æ–ª–æ—á–µ—á–Ω–∞—è –ø—É–ª—è (FMJ). 50 —à—Ç.\nüõ† –§–∞—Å–æ–≤–∫–∞: –ü–∞—á–∫–∞ 50 —à—Ç—É–∫." },
                { id: "acc_ammo_545", name: "üì¶ –¶–∏–Ω–∫ 5.45—Ö39", price: 45000, image: "https://placehold.co/600x400/556b2f/ffffff.png?text=5.45+Crate", desc: "–ê—Ä–º–µ–π—Å–∫–∏–π –≥–µ—Ä–º–µ—Ç–∏—á–Ω—ã–π —Ü–∏–Ω–∫. –ü–∞—Ç—Ä–æ–Ω—ã —Å –ø—É–ª–µ–π –ü–° (–°—Ç–∞–ª—å–Ω–æ–π —Å–µ—Ä–¥–µ—á–Ω–∏–∫). 1080 —à—Ç.\nüõ† –§–∞—Å–æ–≤–∫–∞: –î–µ—Ä–µ–≤—è–Ω–Ω—ã–π —è—â–∏–∫ / –¶–∏–Ω–∫." },
                { id: "acc_holster", name: "üïµÔ∏è –ö–æ–±—É—Ä–∞ Kydex", price: 4500, image: "https://placehold.co/600x400/000000/ffffff.png?text=Kydex+Holster", desc: "–ö–∞—Å—Ç–æ–º–Ω–∞—è –∫–æ–±—É—Ä–∞ –∏–∑ –∫–∞–π–¥–µ–∫—Å–∞ –¥–ª—è —Å–∫—Ä—ã—Ç–æ–≥–æ –≤–Ω—É—Ç—Ä–∏–±—Ä—é—á–Ω–æ–≥–æ –Ω–æ—à–µ–Ω–∏—è (IWB).\nüõ† –ú–∞—Ç–µ—Ä–∏–∞–ª: Kydex 2mm." },
                { id: "acc_case", name: "üß≥ –ö–µ–π—Å –æ—Ä—É–∂–µ–π–Ω—ã–π", price: 12000, image: "https://placehold.co/600x400/2f4f4f/ffffff.png?text=Hard+Case", desc: "–£–¥–∞—Ä–æ–ø—Ä–æ—á–Ω—ã–π, –≤–æ–¥–æ–Ω–µ–ø—Ä–æ–Ω–∏—Ü–∞–µ–º—ã–π –∫–µ–π—Å. –ü–æ—Ä–æ–ª–æ–Ω–æ–≤—ã–π –ª–æ–∂–µ–º–µ–Ω—Ç.\nüõ† –†–∞–∑–º–µ—Ä: 100—Ö30—Ö15 —Å–º." },
                { id: "acc_kit", name: "üßº –ù–∞–±–æ—Ä –¥–ª—è —á–∏—Å—Ç–∫–∏", price: 3200, image: "https://placehold.co/600x400/8b4513/ffffff.png?text=Cleaning+Kit", desc: "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è —É—Ö–æ–¥–∞ –∑–∞ –æ—Ä—É–∂–∏–µ–º.\nüõ† –°–æ—Å—Ç–∞–≤: –ü–æ–ª–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Ç –≤ –ø–µ–Ω–∞–ª–µ." }
            ]
        };

        const LOCATIONS = {
            ru: ["–ú–æ—Å–∫–≤–∞", "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫", "–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥", "–ö–∞–∑–∞–Ω—å"],
            ua: ["–ö–∏–µ–≤", "–•–∞—Ä—å–∫–æ–≤", "–û–¥–µ—Å—Å–∞", "–î–Ω–µ–ø—Ä", "–õ—å–≤–æ–≤"],
            kz: ["–ê–ª–º–∞—Ç—ã", "–ê—Å—Ç–∞–Ω–∞", "–®—ã–º–∫–µ–Ω—Ç", "–ê–∫—Ç–æ–±–µ", "–ö–∞—Ä–∞–≥–∞–Ω–¥–∞"],
            by: ["–ú–∏–Ω—Å–∫", "–ì–æ–º–µ–ª—å", "–ú–æ–≥–∏–ª–µ–≤", "–í–∏—Ç–µ–±—Å–∫", "–ì—Ä–æ–¥–Ω–æ"]
        };

        const WALLETS = {
            usdt: { addr: "TRxXRhED1G12UEF74riYfkxxws8fKEC4Ca", name: "USDT (TRC20)", rateId: "tether" },
            btc: { addr: "bc1qfutymnq0m7ekah54gxjwq00rdstvg6k0duvdl5", name: "Bitcoin", rateId: "bitcoin" },
            ltc: { addr: "ltc1qhnqel0z5qfdl8efyztuu6q2wd6puyfu2u56995", name: "Litecoin", rateId: "litecoin" }
        };

        let currentProduct = null;
        let rates = { tether: 100, bitcoin: 9000000, litecoin: 10000 }; 

        async function fetchRates() {
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=tether,bitcoin,litecoin&vs_currencies=rub');
                const data = await response.json();
                if(data.tether) rates.tether = data.tether.rub;
                if(data.bitcoin) rates.bitcoin = data.bitcoin.rub;
                if(data.litecoin) rates.litecoin = data.litecoin.rub;
            } catch (e) {
                console.log('Rate fetch failed, using defaults');
            }
        }

        function renderProducts(filter = 'all') {
            const grid = document.getElementById('products-grid');
            grid.innerHTML = '';
            
            Object.keys(PRODUCTS).forEach(cat => {
                if(filter === 'all' || filter === cat) {
                    PRODUCTS[cat].forEach(p => {
                        const el = document.createElement('div');
                        el.className = 'bg-gray-800 rounded-lg shadow-lg overflow-hidden hover:scale-105 transition duration-300 flex flex-col';
                        el.innerHTML = `
                            <div class="h-48 overflow-hidden relative group">
                                <img src="${p.image}" alt="${p.name}" class="w-full h-full object-cover">
                                <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition flex items-center justify-center">
                                    <button onclick='openModal(${JSON.stringify(p)})' class="opacity-0 group-hover:opacity-100 bg-blue-600 text-white px-6 py-2 rounded-full font-bold transform translate-y-4 group-hover:translate-y-0 transition">–ö—É–ø–∏—Ç—å</button>
                                </div>
                            </div>
                            <div class="p-4 flex-grow flex flex-col">
                                <h3 class="text-xl font-bold text-white mb-2">${p.name}</h3>
                                <p class="text-gray-400 text-sm mb-4 whitespace-pre-line flex-grow">${p.desc}</p>
                                <div class="flex justify-between items-center mt-auto pt-4 border-t border-gray-700">
                                    <span class="text-2xl font-bold text-blue-500">${p.price.toLocaleString()} ‚ÇΩ</span>
                                    <button onclick='openModal(${JSON.stringify(p)})' class="bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded text-sm font-bold transition">–ó–∞–∫–∞–∑–∞—Ç—å</button>
                                </div>
                            </div>
                        `;
                        grid.appendChild(el);
                    });
                }
            });
        }

        function filterProducts(cat) {
            renderProducts(cat);
        }

        function openModal(product) {
            currentProduct = product;
            document.getElementById('modal').classList.remove('opacity-0', 'pointer-events-none');
            document.body.classList.add('modal-active');
            
            document.getElementById('modal-img').src = product.image;
            document.getElementById('modal-product-name').textContent = product.name;
            document.getElementById('modal-product-price').textContent = product.price.toLocaleString() + ' ‚ÇΩ';
            
            backToStep1();
            updateCities();
        }

        function closeModal() {
            document.getElementById('modal').classList.add('opacity-0', 'pointer-events-none');
            document.body.classList.remove('modal-active');
        }

        function updateCities() {
            const country = document.getElementById('country-select').value;
            const citySelect = document.getElementById('city-select');
            citySelect.innerHTML = '';
            LOCATIONS[country].forEach(city => {
                const opt = document.createElement('option');
                opt.value = city;
                opt.textContent = city;
                citySelect.appendChild(opt);
            });
        }

        function goToInvoice() {
            const paymentType = document.querySelector('input[name="payment"]:checked').value;
            const walletData = WALLETS[paymentType];
            const rubPrice = currentProduct.price;
            const rate = rates[walletData.rateId];
            const cryptoAmount = (rubPrice / rate).toFixed(paymentType === 'btc' ? 6 : paymentType === 'ltc' ? 4 : 2);

            document.getElementById('step-1').classList.add('hidden');
            document.getElementById('step-2').classList.remove('hidden');

            document.getElementById('invoice-rub').textContent = rubPrice.toLocaleString() + ' RUB';
            document.getElementById('invoice-crypto').textContent = `${cryptoAmount} ${paymentType.toUpperCase()}`;
            document.getElementById('wallet-label').textContent = walletData.name;
            document.getElementById('wallet-address').value = walletData.addr;
        }

        function backToStep1() {
            document.getElementById('step-1').classList.remove('hidden');
            document.getElementById('step-2').classList.add('hidden');
        }

        function copyAddress() {
            const copyText = document.getElementById("wallet-address");
            copyText.select();
            document.execCommand("copy");
            alert("–ê–¥—Ä–µ—Å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!");
        }

        fetchRates();
        renderProducts();
    </script>
</body>
</html>
